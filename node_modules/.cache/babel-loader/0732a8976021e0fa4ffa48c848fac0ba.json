{"ast":null,"code":"var _jsxFileName = \"/home/near/Alpha/Stack/IPR-Portal/frontend/src/components/Profile.js\";\nimport React from 'react';\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport TextField from \"material-ui/TextField\";\nimport RaisedButton from \"material-ui/RaisedButton\";\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nconst styles = {\n  button: {\n    margin: 15\n  }\n};\nexport class Profile extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      let authAxios = axios.create({\n        headers: {\n          Authorization: `Token ${localStorage.getItem('token')}`\n        }\n      });\n      authAxios.get('http://localhost:8000/api/').then(response => {\n        this.setState({\n          context: response.data,\n          authenticated: true,\n          emailVerified: response.data.email_verified\n        });\n        console.log(this.state.context);\n      }).catch(error => {\n        this.setState({\n          error: error.response,\n          authenticated: false\n        });\n        console.log(this.state.error);\n      });\n    };\n\n    this.state = {\n      context: {},\n      error: null,\n      authenticated: true,\n      emailVerified: true\n    };\n  }\n\n  render() {\n    let {\n      context,\n      error,\n      authenticated,\n      emailVerified\n    } = this.state;\n\n    if (!authenticated) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 5\n        }\n      });\n    }\n\n    if (!emailVerified) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/verify\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 5\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(MuiThemeProvider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 6\n      }\n    }, \"Profile\"), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 6\n      }\n    }, \"Welcome \", context.first_name)));\n  }\n\n}\nexport default Profile;","map":{"version":3,"sources":["/home/near/Alpha/Stack/IPR-Portal/frontend/src/components/Profile.js"],"names":["React","MuiThemeProvider","TextField","RaisedButton","Link","Redirect","axios","styles","button","margin","Profile","Component","constructor","props","componentDidMount","authAxios","create","headers","Authorization","localStorage","getItem","get","then","response","setState","context","data","authenticated","emailVerified","email_verified","console","log","state","catch","error","render","first_name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,qCAA7B;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,SAAQC,IAAR,EAAaC,QAAb,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,MAAM,GAAG;AACdC,EAAAA,MAAM,EAAE;AACPC,IAAAA,MAAM,EAAE;AADD;AADM,CAAf;AAMA,OAAO,MAAMC,OAAN,SAAsBV,KAAK,CAACW,SAA5B,CAAsC;AAC5CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAYnBC,iBAZmB,GAYC,MAAI;AACvB,UAAIC,SAAS,GAACT,KAAK,CAACU,MAAN,CAAa;AAC1BC,QAAAA,OAAO,EAAE;AACRC,UAAAA,aAAa,EAAG,SAAQC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAD9C;AADiB,OAAb,CAAd;AAKAL,MAAAA,SAAS,CAACM,GAAV,CAAc,4BAAd,EACCC,IADD,CAEEC,QAAD,IAAY;AACX,aAAKC,QAAL,CAAc;AACbC,UAAAA,OAAO,EAACF,QAAQ,CAACG,IADJ;AAEbC,UAAAA,aAAa,EAAE,IAFF;AAGbC,UAAAA,aAAa,EAAEL,QAAQ,CAACG,IAAT,CAAcG;AAHhB,SAAd;AAKAC,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWP,OAAvB;AACA,OATF,EAWCQ,KAXD,CAYEC,KAAD,IAAS;AACR,aAAKV,QAAL,CAAc;AACbU,UAAAA,KAAK,EAACA,KAAK,CAACX,QADC;AAEbI,UAAAA,aAAa,EAAE;AAFF,SAAd;AAIAG,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWE,KAAvB;AACA,OAlBF;AAoBA,KAtCkB;;AAGlB,SAAKF,KAAL,GAAa;AACXP,MAAAA,OAAO,EAAE,EADE;AAEXS,MAAAA,KAAK,EAAE,IAFI;AAGXP,MAAAA,aAAa,EAAE,IAHJ;AAIXC,MAAAA,aAAa,EAAC;AAJH,KAAb;AAOA;;AA+BDO,EAAAA,MAAM,GAAG;AACR,QAAI;AAACV,MAAAA,OAAD;AAASS,MAAAA,KAAT;AAAeP,MAAAA,aAAf;AAA6BC,MAAAA;AAA7B,QAA4C,KAAKI,KAArD;;AACA,QAAG,CAACL,aAAJ,EAAkB;AACjB,0BACC,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAGA;;AACD,QAAG,CAACC,aAAJ,EAAkB;AACjB,0BACC,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD;AAGA;;AACD,wBACC,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAaH,OAAO,CAACW,UAArB,CAHD,CADD,CADD;AASA;;AA/D2C;AAkE7C,eAAe1B,OAAf","sourcesContent":["import React from 'react'\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport TextField from \"material-ui/TextField\";\nimport RaisedButton from \"material-ui/RaisedButton\";\nimport {Link,Redirect} from 'react-router-dom';\nimport axios from 'axios';\n\nconst styles = {\n\tbutton: {\n\t\tmargin: 15,\n    },\n};\n\nexport class Profile extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\n\t\tthis.state = {\n\t\t\t context: {},\n\t\t\t error: null,\n\t\t\t authenticated: true,\n\t\t\t emailVerified:true,\n\n\t\t}\n\t}\n\n\tcomponentDidMount = ()=>{\n\t\tlet authAxios=axios.create({\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t});\n\t\tauthAxios.get('http://localhost:8000/api/')\n\t\t.then(\n\t\t\t(response)=>{\n\t\t\t\tthis.setState({\n\t\t\t\t\tcontext:response.data,\n\t\t\t\t\tauthenticated: true,\n\t\t\t\t\temailVerified: response.data.email_verified\n\t\t\t\t})\n\t\t\t\tconsole.log(this.state.context)\n\t\t\t}\n\t\t)\n\t\t.catch(\n\t\t\t(error)=>{\n\t\t\t\tthis.setState({\n\t\t\t\t\terror:error.response,\n\t\t\t\t\tauthenticated: false\n\t\t\t\t})\n\t\t\t\tconsole.log(this.state.error)\n\t\t\t}\n\t\t)\n\t}\n\n\n\trender() {\n\t\tlet {context,error,authenticated,emailVerified}=this.state\n\t\tif(!authenticated){\n\t\t\treturn(\n\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t)\n\t\t}\n\t\tif(!emailVerified){\n\t\t\treturn(\n\t\t\t\t<Redirect to=\"/verify\" />\n\t\t\t)\n\t\t}\n\t\treturn (\n\t\t\t<MuiThemeProvider>\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<h2>Profile</h2>\n\t\t\t\t\t<h4>Welcome {context.first_name}</h4>\n\t\t\t\t</React.Fragment>\n\t\t\t</MuiThemeProvider>\n\t\t)\n\t}\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}