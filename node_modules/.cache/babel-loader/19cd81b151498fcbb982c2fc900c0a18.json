{"ast":null,"code":"var _jsxFileName = \"/home/near/Alpha/WebDevelopment/PracticeProjects/DjReact-Authentication/frontend/src/components/Login.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link, Redirect } from 'react-router-dom';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changehandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.submitHandler = e => {\n      e.preventDefault();\n      let form = {};\n      form.username = this.state.username;\n      form.password = this.state.password;\n      axios.post('http://localhost:8000/login/', form).then(response => {\n        this.setState({\n          token: response.data.token,\n          authenticated: true\n        });\n        localStorage.setItem('token', this.state.token);\n      }).catch(error => {\n        this.setState({\n          error: error.message,\n          authenticated: false\n        });\n      });\n    };\n\n    this.state = {\n      username: \"\",\n      password: \"\",\n      token: \"\",\n      error: \"\",\n      authenticated: false\n    };\n  }\n\n  render() {\n    let {\n      username,\n      password,\n      authenticated\n    } = this.state;\n\n    if (authenticated) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }\n    }, \"Login Form\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-group\",\n      onSubmit: this.submitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      className: \"form-control col\",\n      onChange: this.changehandler,\n      value: username,\n      placeholder: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      className: \"form-control col\",\n      onChange: this.changehandler,\n      value: password,\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary col\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/near/Alpha/WebDevelopment/PracticeProjects/DjReact-Authentication/frontend/src/components/Login.js"],"names":["React","axios","Link","Redirect","Login","Component","constructor","props","changehandler","e","setState","target","name","value","submitHandler","preventDefault","form","username","state","password","post","then","response","token","data","authenticated","localStorage","setItem","catch","error","message","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,EAAaC,QAAb,QAA4B,kBAA5B;;AAIA,MAAMC,KAAN,SAAoBJ,KAAK,CAACK,SAA1B,CAAoC;AACnCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;;AADkB,SAanBC,aAbmB,GAaJC,CAAD,IAAM;AACnB,WAAKC,QAAL,CAAc;AACb,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADb,OAAd;AAGA,KAjBkB;;AAAA,SAmBnBC,aAnBmB,GAmBJL,CAAD,IAAM;AACnBA,MAAAA,CAAC,CAACM,cAAF;AACA,UAAIC,IAAI,GAAC,EAAT;AACAA,MAAAA,IAAI,CAACC,QAAL,GAAc,KAAKC,KAAL,CAAWD,QAAzB;AACAD,MAAAA,IAAI,CAACG,QAAL,GAAc,KAAKD,KAAL,CAAWC,QAAzB;AACAlB,MAAAA,KAAK,CAACmB,IAAN,CAAW,8BAAX,EAA0CJ,IAA1C,EACCK,IADD,CAEEC,QAAD,IAAa;AACZ,aAAKZ,QAAL,CAAc;AACba,UAAAA,KAAK,EAAED,QAAQ,CAACE,IAAT,CAAcD,KADR;AAEbE,UAAAA,aAAa,EAAE;AAFF,SAAd;AAIAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6B,KAAKT,KAAL,CAAWK,KAAxC;AACA,OARF,EAUCK,KAVD,CAWEC,KAAD,IAAU;AACT,aAAKnB,QAAL,CAAc;AACbmB,UAAAA,KAAK,EAACA,KAAK,CAACC,OADC;AAEbL,UAAAA,aAAa,EAAE;AAFF,SAAd;AAKA,OAjBF;AAoBA,KA5CkB;;AAGlB,SAAKP,KAAL,GAAa;AACZD,MAAAA,QAAQ,EAAE,EADE;AAEZE,MAAAA,QAAQ,EAAE,EAFE;AAGZI,MAAAA,KAAK,EAAE,EAHK;AAIZM,MAAAA,KAAK,EAAE,EAJK;AAKZJ,MAAAA,aAAa,EAAE;AALH,KAAb;AAQA;;AAmCDM,EAAAA,MAAM,GAAG;AACR,QAAI;AAACd,MAAAA,QAAD;AAAUE,MAAAA,QAAV;AAAmBM,MAAAA;AAAnB,QAAkC,KAAKP,KAA3C;;AACA,QAAGO,aAAH,EAAiB;AAChB,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACA;;AACD,wBACC,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAR,CADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,eAGC;AAAM,MAAA,SAAS,EAAC,YAAhB;AAA6B,MAAA,QAAQ,EAAE,KAAKX,aAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAEC;AACC,MAAA,IAAI,EAAC,UADN;AAEC,MAAA,IAAI,EAAC,MAFN;AAGC,MAAA,SAAS,EAAC,kBAHX;AAIC,MAAA,QAAQ,EAAE,KAAKN,aAJhB;AAKC,MAAA,KAAK,EAAES,QALR;AAMC,MAAA,WAAW,EAAC,UANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,eAUC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVD,CADD,eAaC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAEC;AACC,MAAA,IAAI,EAAC,UADN;AAEC,MAAA,IAAI,EAAC,UAFN;AAGC,MAAA,SAAS,EAAC,kBAHX;AAIC,MAAA,QAAQ,EAAE,KAAKT,aAJhB;AAKC,MAAA,KAAK,EAAEW,QALR;AAMC,MAAA,WAAW,EAAC,UANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFD,eAUC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAVD,CAbD,eAyBC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,eAEC;AAAQ,MAAA,SAAS,EAAC,qBAAlB;AAAwC,MAAA,IAAI,EAAC,QAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFD,eAKC;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALD,CAzBD,CAHD,CADD;AAuCA;;AA3FkC;;AA8FpC,eAAef,KAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {Link,Redirect} from 'react-router-dom';\n\n\n\nclass Login extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\n\t\tthis.state = {\n\t\t\tusername: \"\",\n\t\t\tpassword: \"\",\n\t\t\ttoken: \"\",\n\t\t\terror: \"\",\n\t\t\tauthenticated: false\n\t\t\t \n\t\t}\n\t}\n\n\tchangehandler=(e) =>{\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tsubmitHandler=(e) =>{\n\t\te.preventDefault()\n\t\tlet form={}\n\t\tform.username=this.state.username\n\t\tform.password=this.state.password\n\t\taxios.post('http://localhost:8000/login/',form)\n\t\t.then(\n\t\t\t(response) =>{\n\t\t\t\tthis.setState({\n\t\t\t\t\ttoken: response.data.token,\n\t\t\t\t\tauthenticated: true\n\t\t\t\t})\n\t\t\t\tlocalStorage.setItem('token',this.state.token)\n\t\t\t}\n\t\t)\n\t\t.catch(\n\t\t\t(error) =>{\n\t\t\t\tthis.setState({\n\t\t\t\t\terror:error.message,\n\t\t\t\t\tauthenticated: false\n\t\t\t\t})\n\t\t\t\t\n\t\t\t}\n\t\t)\n\n\t}\n\n\trender() {\n\t\tlet {username,password,authenticated}=this.state\n\t\tif(authenticated){\n\t\t\treturn <Redirect to=\"/\" />\n\t\t}\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<center><h4>Login Form</h4></center>\n\t\t\t\t<br/>\n\t\t\t\t<form className=\"form-group\" onSubmit={this.submitHandler}>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tname=\"username\" \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tclassName=\"form-control col\"\n\t\t\t\t\t\t\tonChange={this.changehandler}\n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tname=\"password\" \n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tclassName=\"form-control col\"\n\t\t\t\t\t\t\tonChange={this.changehandler}\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t<button className=\"btn btn-primary col\" type=\"submit\">\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}