{"ast":null,"code":"import _classCallCheck from\"/home/near/Alpha/Stack/IPR-Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/near/Alpha/Stack/IPR-Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/near/Alpha/Stack/IPR-Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/near/Alpha/Stack/IPR-Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import MuiThemeProvider from\"material-ui/styles/MuiThemeProvider\";import TextField from\"material-ui/TextField\";import RaisedButton from\"material-ui/RaisedButton\";import{Link,Redirect}from'react-router-dom';import axios from'axios';var styles={button:{margin:15}};export var Profile=/*#__PURE__*/function(_React$Component){_inherits(Profile,_React$Component);var _super=_createSuper(Profile);function Profile(props){var _this;_classCallCheck(this,Profile);_this=_super.call(this,props);_this.componentDidMount=function(){var authAxios=axios.create({headers:{Authorization:\"Token \".concat(localStorage.getItem('token'))}});authAxios.get('http://104.197.122.210:8000/api/').then(function(response){_this.setState({context:response.data,authenticated:true,emailVerified:response.data.email_verified});console.log(_this.state.context);}).catch(function(error){_this.setState({error:error.response,authenticated:false});console.log(_this.state.error);});};_this.state={context:{},error:null,authenticated:true,emailVerified:true};return _this;}_createClass(Profile,[{key:\"render\",value:function render(){var _this$state=this.state,context=_this$state.context,error=_this$state.error,authenticated=_this$state.authenticated,emailVerified=_this$state.emailVerified;if(!authenticated){return/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});}if(!emailVerified){return/*#__PURE__*/React.createElement(Redirect,{to:\"/verify\"});}return/*#__PURE__*/React.createElement(MuiThemeProvider,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"Profile\"),/*#__PURE__*/React.createElement(\"h4\",null,\"Welcome \",context.first_name),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Link,{to:\"/logout\"},/*#__PURE__*/React.createElement(RaisedButton,{label:\"Logout\",primary:false,style:styles.button}))));}}]);return Profile;}(React.Component);export default Profile;","map":{"version":3,"sources":["/home/near/Alpha/Stack/IPR-Portal/frontend/src/components/Profile.js"],"names":["React","MuiThemeProvider","TextField","RaisedButton","Link","Redirect","axios","styles","button","margin","Profile","props","componentDidMount","authAxios","create","headers","Authorization","localStorage","getItem","get","then","response","setState","context","data","authenticated","emailVerified","email_verified","console","log","state","catch","error","first_name","Component"],"mappings":"onBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qCAA7B,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,0BAAzB,CACA,OAAQC,IAAR,CAAaC,QAAb,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,MAAM,CAAG,CACdC,MAAM,CAAE,CACPC,MAAM,CAAE,EADD,CADM,CAAf,CAMA,UAAaC,CAAAA,OAAb,8GACC,iBAAYC,KAAZ,CAAmB,yCAClB,uBAAMA,KAAN,EADkB,MAYnBC,iBAZmB,CAYC,UAAI,CACvB,GAAIC,CAAAA,SAAS,CAACP,KAAK,CAACQ,MAAN,CAAa,CAC1BC,OAAO,CAAE,CACRC,aAAa,iBAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CADL,CADiB,CAAb,CAAd,CAKAL,SAAS,CAACM,GAAV,CAAc,kCAAd,EACCC,IADD,CAEC,SAACC,QAAD,CAAY,CACX,MAAKC,QAAL,CAAc,CACbC,OAAO,CAACF,QAAQ,CAACG,IADJ,CAEbC,aAAa,CAAE,IAFF,CAGbC,aAAa,CAAEL,QAAQ,CAACG,IAAT,CAAcG,cAHhB,CAAd,EAKAC,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWP,OAAvB,EACA,CATF,EAWCQ,KAXD,CAYC,SAACC,KAAD,CAAS,CACR,MAAKV,QAAL,CAAc,CACbU,KAAK,CAACA,KAAK,CAACX,QADC,CAEbI,aAAa,CAAE,KAFF,CAAd,EAIAG,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWE,KAAvB,EACA,CAlBF,EAoBA,CAtCkB,CAGlB,MAAKF,KAAL,CAAa,CACXP,OAAO,CAAE,EADE,CAEXS,KAAK,CAAE,IAFI,CAGXP,aAAa,CAAE,IAHJ,CAIXC,aAAa,CAAC,IAJH,CAAb,CAHkB,aAUlB,CAXF,2DA0CU,iBACwC,KAAKI,KAD7C,CACHP,OADG,aACHA,OADG,CACKS,KADL,aACKA,KADL,CACWP,aADX,aACWA,aADX,CACyBC,aADzB,aACyBA,aADzB,CAER,GAAG,CAACD,aAAJ,CAAkB,CACjB,mBACC,oBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EADD,CAGA,CACD,GAAG,CAACC,aAAJ,CAAkB,CACjB,mBACC,oBAAC,QAAD,EAAU,EAAE,CAAC,SAAb,EADD,CAGA,CACD,mBACC,oBAAC,gBAAD,mBACC,oBAAC,KAAD,CAAO,QAAP,mBACC,8BADD,cAEC,wCAFD,cAGC,yCAAaH,OAAO,CAACU,UAArB,CAHD,cAIC,8BAJD,cAIM,8BAJN,cAKC,oBAAC,IAAD,EAAM,EAAE,CAAC,SAAT,eACC,oBAAC,YAAD,EACC,KAAK,CAAC,QADP,CAEC,OAAO,CAAE,KAFV,CAGC,KAAK,CAAE1B,MAAM,CAACC,MAHf,EADD,CALD,CADD,CADD,CAiBA,CAvEF,qBAA6BR,KAAK,CAACkC,SAAnC,EA0EA,cAAexB,CAAAA,OAAf","sourcesContent":["import React from 'react'\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport TextField from \"material-ui/TextField\";\nimport RaisedButton from \"material-ui/RaisedButton\";\nimport {Link,Redirect} from 'react-router-dom';\nimport axios from 'axios';\n\nconst styles = {\n\tbutton: {\n\t\tmargin: 15,\n    },\n};\n\nexport class Profile extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\n\t\tthis.state = {\n\t\t\t context: {},\n\t\t\t error: null,\n\t\t\t authenticated: true,\n\t\t\t emailVerified:true,\n\n\t\t}\n\t}\n\n\tcomponentDidMount = ()=>{\n\t\tlet authAxios=axios.create({\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Token ${localStorage.getItem('token')}`\n\t\t\t}\n\t\t});\n\t\tauthAxios.get('http://104.197.122.210:8000/api/')\n\t\t.then(\n\t\t\t(response)=>{\n\t\t\t\tthis.setState({\n\t\t\t\t\tcontext:response.data,\n\t\t\t\t\tauthenticated: true,\n\t\t\t\t\temailVerified: response.data.email_verified\n\t\t\t\t})\n\t\t\t\tconsole.log(this.state.context)\n\t\t\t}\n\t\t)\n\t\t.catch(\n\t\t\t(error)=>{\n\t\t\t\tthis.setState({\n\t\t\t\t\terror:error.response,\n\t\t\t\t\tauthenticated: false\n\t\t\t\t})\n\t\t\t\tconsole.log(this.state.error)\n\t\t\t}\n\t\t)\n\t}\n\n\n\trender() {\n\t\tlet {context,error,authenticated,emailVerified}=this.state\n\t\tif(!authenticated){\n\t\t\treturn(\n\t\t\t\t<Redirect to=\"/login\" />\n\t\t\t)\n\t\t}\n\t\tif(!emailVerified){\n\t\t\treturn(\n\t\t\t\t<Redirect to=\"/verify\" />\n\t\t\t)\n\t\t}\n\t\treturn (\n\t\t\t<MuiThemeProvider>\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<h2>Profile</h2>\n\t\t\t\t\t<h4>Welcome {context.first_name}</h4>\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\t<Link to=\"/logout\">\n\t\t\t\t\t\t<RaisedButton\t\n\t\t\t\t\t\t\tlabel=\"Logout\"\n\t\t\t\t\t\t\tprimary={false} \n\t\t\t\t\t\t\tstyle={styles.button} \n\t\t\t\t\t\t/>\n\t\t\t\t\t</Link>\n\t\t\t\t</React.Fragment>\n\t\t\t</MuiThemeProvider>\n\t\t)\n\t}\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}