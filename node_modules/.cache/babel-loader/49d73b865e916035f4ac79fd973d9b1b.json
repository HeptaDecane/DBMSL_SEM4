{"ast":null,"code":"import _defineProperty from\"/home/near/Alpha/Stack/IPR-Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/near/Alpha/Stack/IPR-Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/near/Alpha/Stack/IPR-Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/near/Alpha/Stack/IPR-Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/near/Alpha/Stack/IPR-Portal/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import MuiThemeProvider from\"material-ui/styles/MuiThemeProvider\";import TextField from\"material-ui/TextField\";import RaisedButton from\"material-ui/RaisedButton\";import{Link,Redirect}from'react-router-dom';import axios from'axios';var styles={button:{margin:15}};export var SignUp=/*#__PURE__*/function(_React$Component){_inherits(SignUp,_React$Component);var _super=_createSuper(SignUp);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_super.call(this,props);_this.changeHandler=function(e){_this.setState(_defineProperty({},e.target.id,e.target.value));};_this.submitHanler=function(e){e.preventDefault();var form={};form.username=_this.state.email;form.first_name=_this.state.firstname;form.last_name=_this.state.lastname;form.password=_this.state.password1;console.log(form);axios.post('http://104.197.122.210:8000/api/sign-up/',form).then(function(response){_this.setState({context:response.data,token:response.data.token});delete _this.state.context.token;if(_this.state.token){_this.setState({authenticated:true});}console.log(response);console.log(_this.state.token);}).catch(function(error){_this.setState({error:error.response});console.log(_this.state.error);});};_this.state={context:{},email:\"\",firstname:\"\",lastname:\"\",password1:\"\",password2:\"\",error:null,authenticated:false};return _this;}_createClass(SignUp,[{key:\"render\",value:function render(){var _this$state=this.state,email=_this$state.email,firstname=_this$state.firstname,lastname=_this$state.lastname,password1=_this$state.password1,password2=_this$state.password2,authenticated=_this$state.authenticated;if(authenticated){localStorage.setItem('token',this.state.token);return/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"});}if(localStorage.getItem('token')){return/*#__PURE__*/React.createElement(Redirect,{to:\"/profile\"});}return/*#__PURE__*/React.createElement(MuiThemeProvider,null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Link,{to:\"/login\"},/*#__PURE__*/React.createElement(RaisedButton,{label:\"Log-In\",primary:true,style:styles.button})),/*#__PURE__*/React.createElement(Link,{to:\"/signup\"},/*#__PURE__*/React.createElement(RaisedButton,{label:\"Sign-Up\",primary:false,style:styles.button})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(TextField,{hintText:\"Enter your firstname\",floatingLabelText:\"First Name\",id:\"firstname\",required:true,value:firstname,onChange:this.changeHandler}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(TextField,{hintText:\"Enter your lastname\",floatingLabelText:\"Last Name\",id:\"lastname\",value:lastname,onChange:this.changeHandler}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(TextField,{hintText:\"Enter your email\",floatingLabelText:\"E-mail\",type:\"email\",id:\"email\",value:email,onChange:this.changeHandler}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(TextField,{hintText:\"Password\",floatingLabelText:\"Password\",type:\"password\",id:\"password1\",value:password1,onChange:this.changeHandler}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(TextField,{hintText:\"Confirm password\",floatingLabelText:\"Confirm-Password\",type:\"password\",id:\"password2\",value:password2,onChange:this.changeHandler}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(RaisedButton,{label:\"Submit\",primary:true,style:styles.button,onClick:this.submitHanler,type:\"submit\"})));}}]);return SignUp;}(React.Component);export default SignUp;","map":{"version":3,"sources":["/home/near/Alpha/Stack/IPR-Portal/frontend/src/components/SignUp.js"],"names":["React","MuiThemeProvider","TextField","RaisedButton","Link","Redirect","axios","styles","button","margin","SignUp","props","changeHandler","e","setState","target","id","value","submitHanler","preventDefault","form","username","state","email","first_name","firstname","last_name","lastname","password","password1","console","log","post","then","response","context","data","token","authenticated","catch","error","password2","localStorage","setItem","getItem","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport TextField from \"material-ui/TextField\";\nimport RaisedButton from \"material-ui/RaisedButton\";\nimport {Link,Redirect} from 'react-router-dom';\nimport axios from 'axios';\n\nconst styles = {\n\tbutton: {\n\t\tmargin: 15,\n\t},\n};\n\nexport class SignUp extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\n\t\tthis.state = {\n\t\t\t context: {},\n\t\t\t email: \"\",\n\t\t\t firstname: \"\",\n\t\t\t lastname: \"\",\n\t\t\t password1: \"\",\n\t\t\t password2: \"\",\n\t\t\t error: null,\n\t\t\t authenticated: false\n\t\t}\n\t}\n\n\tchangeHandler = (e)=>{\n\t\tthis.setState({\n\t\t\t[e.target.id]: e.target.value\n\t\t})\n\t}\n\n\tsubmitHanler = (e)=>{\n\t\te.preventDefault()\n\t\tlet form={}\n\t\tform.username = this.state.email\n\t\tform.first_name = this.state.firstname\n\t\tform.last_name = this.state.lastname\n\t\tform.password = this.state.password1\n\t\tconsole.log(form)\n\t\taxios.post('http://104.197.122.210:8000/api/sign-up/',form)\n\t\t.then(\n\t\t\t(response)=>{\n\t\t\t\tthis.setState({\n\t\t\t\t\tcontext: response.data,\n\t\t\t\t\ttoken: response.data.token,\n\t\t\t\t})\n\t\t\t\tdelete this.state.context.token\n\t\t\t\tif(this.state.token){\n\t\t\t\t\tthis.setState({authenticated:true})\n\t\t\t\t}\n\t\t\t\tconsole.log(response)\n\t\t\t\tconsole.log(this.state.token)\n\t\t\t}\n\t\t)\n\t\t.catch(\n\t\t\t(error)=>{\n\t\t\t\tthis.setState({error: error.response})\n\t\t\t\tconsole.log(this.state.error)\n\t\t\t}\n\t\t)\n\t}\n\n\trender() {\n\t\tlet {email,firstname,lastname,password1,password2,authenticated} = this.state\n\t\tif (authenticated){\n\t\t\tlocalStorage.setItem('token',this.state.token)\n\t\t\treturn <Redirect to=\"/profile\" />\n\t\t}\n\t\tif (localStorage.getItem('token')){\n\t\t\treturn <Redirect to=\"/profile\" />\n\t\t}\n\t\treturn (\n\t\t\t<MuiThemeProvider>\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<Link to=\"/login\">\n\t\t\t\t\t\t<RaisedButton\n\t\t\t\t\t        label=\"Log-In\"\n\t\t\t\t\t        primary={true}\n\t\t\t\t\t        style={styles.button}\n\t\t\t\t\t    />\n\t\t\t\t    </Link>\n\t\t\t\t    <Link to=\"/signup\">\n\t          \t\t\t<RaisedButton \n\t          \t\t\t\tlabel=\"Sign-Up\" \n\t          \t\t\t\tprimary={false} \n\t          \t\t\t\tstyle={styles.button} \n\t      \t\t\t\t/>\n      \t\t\t\t</Link>\n      \t\t\t\t<br/>\n      \t\t\t\t<TextField\n\t\t\t            hintText=\"Enter your firstname\"\n\t\t\t            floatingLabelText=\"First Name\"\n\t\t\t            id=\"firstname\"\n\t\t\t            required\n\t\t\t            value={firstname}\n\t\t\t            onChange={this.changeHandler}\n\t\t\t        />\n\t\t\t        <br/>\n\t\t\t        <TextField\n\t\t\t\t        hintText=\"Enter your lastname\"\n\t\t\t\t        floatingLabelText=\"Last Name\"\n\t\t\t\t        id=\"lastname\"\n\t\t\t\t        value={lastname}\n\t\t\t\t        onChange={this.changeHandler}\n          \t\t\t/>\n          \t\t\t<br/>\n          \t\t\t<TextField\n\t\t\t            hintText=\"Enter your email\"\n\t\t\t            floatingLabelText=\"E-mail\"\n\t\t\t            type=\"email\"\n\t\t\t            id=\"email\"\n\t\t\t            value={email}\n\t\t\t            onChange={this.changeHandler}\n\t\t\t        />\n\t\t\t        <br/>\n\t\t\t        <TextField\n\t\t\t            hintText=\"Password\"\n\t\t\t            floatingLabelText=\"Password\"\n\t\t\t            type=\"password\"\n\t\t\t            id=\"password1\"\n\t\t\t            value={password1}\n\t\t\t            onChange={this.changeHandler}\n\t\t        \t/>\n\t\t            <br/>\n\t\t\t        <TextField\n\t\t\t            hintText=\"Confirm password\"\n\t\t\t            floatingLabelText=\"Confirm-Password\"\n\t\t\t            type=\"password\"\n\t\t\t            id=\"password2\"\n\t\t\t            value={password2}\n\t\t\t            onChange={this.changeHandler}\n\t\t\t        />\n\t\t\t\t\t<br />\n        \t\t\t<RaisedButton\n\t\t\t            label=\"Submit\"\n\t\t\t            primary={true}\n\t\t\t            style={styles.button}\n\t\t\t            onClick={this.submitHanler}\n\t\t\t            type=\"submit\"\n            \t\t/>\n\t\t\t\t</React.Fragment>\n\t\t\t\t\n\t\t\t</MuiThemeProvider>\n\t\t)\n\t}\n}\n\nexport default SignUp"]},"metadata":{},"sourceType":"module"}