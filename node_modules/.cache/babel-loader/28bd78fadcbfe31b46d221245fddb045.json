{"ast":null,"code":"var _jsxFileName = \"/home/near/Alpha/WebDevelopment/PracticeProjects/DjReact-Authentication/frontend/src/components/Register.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { Link, Redirect } from 'react-router-dom';\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      axios.get('http://localhost:8000/register/').then(response => {\n        this.setState({\n          context: response.data\n        });\n        console.log(this.state.context);\n      }).catch(error => {\n        this.setState({\n          error: error.message\n        });\n        console.log(this.state.error);\n      });\n    };\n\n    this.changeHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.submitHandler = e => {\n      e.preventDefault();\n      let form = {};\n      form.email = this.state.email;\n      form.username = this.state.username;\n      form.password1 = this.state.password1;\n      form.password2 = this.state.password2;\n      axios.post('http://localhost:8000/register/', form).then(response => {\n        this.setState({\n          token: response.data.token,\n          context: response.data\n        });\n        delete this.state.context.token;\n\n        if (this.state.token) {\n          this.setState({\n            authenticated: true\n          });\n        }\n\n        console.log(this.state.context);\n      }).catch(error => {\n        this.setState({\n          error: error\n        });\n        console.log(this.state.error);\n      });\n    };\n\n    this.formErrors = () => {\n      let {\n        error\n      } = this.state;\n\n      if (error.message) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 6\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 8\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"alert alert-danger col\",\n          type: \"submit\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 8\n          }\n        }, error.status), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 8\n          }\n        })));\n      }\n    };\n\n    this.state = {\n      context: {},\n      email: \"\",\n      username: \"\",\n      password1: \"\",\n      password2: \"\",\n      error: null,\n      token: \"\",\n      authenticated: false\n    };\n  }\n\n  render() {\n    let {\n      username,\n      email,\n      password1,\n      password2,\n      authenticated\n    } = this.state;\n\n    if (authenticated) {\n      localStorage.setItem('token', this.state.token);\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      });\n    }\n\n    if (localStorage.getItem('token')) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }\n    }, \"Registeration Form\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-group\",\n      onSubmit: this.submitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      className: \"form-control col\",\n      onChange: this.changeHandler,\n      value: email,\n      placeholder: \"E-mail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      type: \"text\",\n      className: \"form-control col\",\n      onChange: this.changeHandler,\n      value: username,\n      placeholder: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password1\",\n      type: \"password\",\n      className: \"form-control col\",\n      onChange: this.changeHandler,\n      value: password1,\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"password2\",\n      type: \"password\",\n      className: \"form-control col\",\n      onChange: this.changeHandler,\n      value: password2,\n      placeholder: \"Confirm Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary col\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }, \"Register\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 7\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }\n    }, \"Login\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    })), this.formErrors()));\n  }\n\n}\n\nexport default Register;","map":{"version":3,"sources":["/home/near/Alpha/WebDevelopment/PracticeProjects/DjReact-Authentication/frontend/src/components/Register.js"],"names":["React","axios","Link","Redirect","Register","Component","constructor","props","componentDidMount","get","then","response","setState","context","data","console","log","state","catch","error","message","changeHandler","e","target","name","value","submitHandler","preventDefault","form","email","username","password1","password2","post","token","authenticated","formErrors","status","render","localStorage","setItem","getItem"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {Link,Redirect} from 'react-router-dom';\n\nclass Register extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\n\t\tthis.state = {\n\t\t\t context: {},\n\t\t\t email: \"\",\n\t\t\t username: \"\",\n\t\t\t password1: \"\",\n\t\t\t password2: \"\",\n\t\t\t error: null,\n\t\t\t token: \"\",\n\t\t\t authenticated: false\n\t\t}\n\t}\n\n\tcomponentDidMount = ()=>{\n\t\taxios.get('http://localhost:8000/register/')\n\t\t.then(\n\t\t\t(response)=>{\n\t\t\t\tthis.setState({context: response.data})\n\t\t\t\tconsole.log(this.state.context)\n\t\t\t}\n\t\t)\n\t\t.catch(\n\t\t\t(error)=>{\n\t\t\t\tthis.setState({error: error.message})\n\t\t\t\tconsole.log(this.state.error)\n\t\t\t}\n\t\t)\n\t\t\n\t}\n\n\tchangeHandler = (e)=>{\n\t\tthis.setState({\n\t\t\t[e.target.name]: e.target.value\n\t\t})\n\t}\n\n\tsubmitHandler = (e)=>{\n\t\te.preventDefault()\n\t\tlet form={}\n\t\tform.email=this.state.email\n\t\tform.username=this.state.username\n\t\tform.password1=this.state.password1\n\t\tform.password2=this.state.password2\n\n\t\taxios.post('http://localhost:8000/register/',form)\n\t\t.then(\n\t\t\t(response)=>{\n\t\t\t\tthis.setState({\n\t\t\t\t\ttoken: response.data.token,\n\t\t\t\t\tcontext: response.data,\n\t\t\t\t})\n\t\t\t\tdelete this.state.context.token\n\t\t\t\tif(this.state.token){\n\t\t\t\t\tthis.setState({authenticated:true})\n\t\t\t\t}\n\t\t\t\tconsole.log(this.state.context)\n\t\t\t}\n\t\t)\n\t\t.catch(\n\t\t\t(error)=>{\n\t\t\t\tthis.setState({error:error})\n\t\t\t\tconsole.log(this.state.error)\n\t\t\t}\n\t\t)\n\n\t}\n\n\tformErrors = ()=>{\n\t\tlet {error}=this.state\n\t\tif(error.message){\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t\t<div className=\"alert alert-danger col\" type=\"submit\">\n\t\t\t\t\t\t\t\t{error.status}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</React.Fragment>\n\t\t\t)\n\t\t}\n\t}\n\n\trender() {\n\t\tlet {username,email,password1,password2,authenticated} = this.state\n\t\tif (authenticated){\n\t\t\tlocalStorage.setItem('token',this.state.token)\n\t\t\treturn <Redirect to=\"/\" />\n\t\t}\n\t\tif (localStorage.getItem('token')){\n\t\t\treturn <Redirect to=\"/\" />\n\t\t}\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<center>\n\t\t\t\t\t<h4>Registeration Form</h4>\n\t\t\t\t</center>\n\t\t\t\t<br/>\n\t\t\t\t<form className=\"form-group\" onSubmit={this.submitHandler}>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tname=\"email\" \n\t\t\t\t\t\t\ttype=\"email\" \n\t\t\t\t\t\t\tclassName=\"form-control col\"\n\t\t\t\t\t\t\tonChange={this.changeHandler}\n\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\tplaceholder=\"E-mail\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tname=\"username\" \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tclassName=\"form-control col\"\n\t\t\t\t\t\t\tonChange={this.changeHandler}\n\t\t\t\t\t\t\tvalue={username}\n\t\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tname=\"password1\" \n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tclassName=\"form-control col\"\n\t\t\t\t\t\t\tonChange={this.changeHandler}\n\t\t\t\t\t\t\tvalue={password1}\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tname=\"password2\" \n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tclassName=\"form-control col\"\n\t\t\t\t\t\t\tonChange={this.changeHandler}\n\t\t\t\t\t\t\tvalue={password2}\n\t\t\t\t\t\t\tplaceholder=\"Confirm Password\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t<button className=\"btn btn-primary col\" type=\"submit\">\n\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"row\">\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t\t<Link to=\"/login\">\n\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<div className=\"col\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t{this.formErrors()}\n\t\t\t\t</form>\n\t\t\t</React.Fragment>\n\t\t)\n\t}\n}\n\nexport default Register"]},"metadata":{},"sourceType":"module"}